(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["campaign"],{"0e79":function(t,a,i){t.exports=i.p+"img/heart-color.acf65f2f.svg"},"10c7":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.campaign?e("div",{staticClass:"campaign"},[e("v-navigation-drawer",{style:{background:t.$vuetify.theme.currentTheme.background},attrs:{permanent:""}},[e("v-list-item",[e("v-list-item-content",[e("div",{staticClass:"character-information"},[e("div",[e("div",{staticClass:"name text-subtitle-2"},[t._v(" "+t._s(t.campaign.characterName)+" ")]),e("div",{staticClass:"name text-caption",domProps:{innerHTML:t._s(t.campaign.balanceFormatHTML())}}),e("div",{staticClass:"health"},t._l(t.campaign.totalHealth,(function(a){return e("div",{key:a,staticClass:"heart"},[t.campaign.currentHealth>=a?e("img",{attrs:{src:i("0e79"),alt:"heart"}}):e("img",{staticStyle:{opacity:"35%"},attrs:{src:i("fbe8"),alt:"no heart"}})])})),0)]),"primate"===t.campaign.characterClass?e("img",{staticClass:"class-icon",attrs:{src:i("ffdb"),alt:"primate"}}):t._e(),"berserker"===t.campaign.characterClass?e("img",{staticClass:"class-icon",attrs:{src:i("a9d9"),alt:"berserker"}}):t._e(),"shaman"===t.campaign.characterClass?e("img",{staticClass:"class-icon",attrs:{src:i("c46e"),alt:"shaman"}}):t._e()])])],1),e("v-divider"),e("v-list-item",[e("v-list-item-content",[e("div",{staticClass:"text-overline"},[t._v("Inventory")]),0===t.campaign.inventory.getItems().length?e("div",{staticClass:"text-caption text--secondary"},[t._v(" Your inventory is empty ")]):t._e(),e("div",{staticClass:"inventory"},t._l(t.campaign.inventory.getItems(),(function(a,i){return e("v-menu",{key:i,attrs:{"offset-y":"","open-on-hover":""},scopedSlots:t._u([{key:"activator",fn:function(i){var s=i.on,n=i.attrs;return[e("div",t._g(t._b({staticClass:"item",on:{click:function(i){t.getItem(a.id).emit(t.campaign)}}},"div",n,!1),s),[e("img",{attrs:{src:t.getItem(a.id).icon}}),e("div",{staticClass:"amount text-caption",style:{background:t.$vuetify.theme.currentTheme.background}},[t._v(" "+t._s(a.amount)+" ")])])]}}],null,!0)},[e("v-card",{attrs:{"max-width":"300px"}},[e("v-card-title",[t._v(t._s(t.getItem(a.id).name)+" ("+t._s(a.amount)+")")]),e("v-card-subtitle",[t._v(t._s(t.getItem(a.id).description))]),e("v-divider"),void 0!==t.getItem(a.id).use?e("v-card-subtitle",[t._v("Click to use")]):t._e()],1)],1)})),1)])],1),e("v-list-item",{staticClass:"back-to-menu"},[e("v-list-item-content",[e("v-btn",{on:{click:function(a){return t.$router.push("/menu")}}},[t._v(" Back to menu ")])],1)],1)],1),e("div",{staticClass:"main"},[e("div",{staticClass:"quests"},[e("div",{staticClass:"text-h5 title"},[t._v("Quests")]),e("div",{staticClass:"quest-cards"},t._l(t.quests,(function(a,i){return e("v-card",{key:i,staticClass:"quest",attrs:{disabled:!a.fulfillsPrerequisites(t.campaign)},on:{click:function(i){return t.startQuest(a.id)}}},[e("v-card-title",[e("span",[t._v(t._s(a.title))]),a.fulfillsPrerequisites(t.campaign)?t._e():e("i",{staticClass:"mdi mdi-lock"})]),e("v-card-subtitle",[t._v("Multiple choice")]),e("v-card-text",[a.prerequisites.length?e("span",{staticClass:"text--primary"},[e("strong",[t._v("Prerequisites")])]):e("p",[t._v("No prerequisites")]),t._l(a.prerequisites,(function(a,i){return e("div",{key:i,staticClass:"prerequisite"},[a.isFulfilled()?e("i",{staticClass:"mdi mdi-check success--text"}):e("i",{staticClass:"mdi mdi-close error--text"}),e("span",{staticClass:"text--primary"},[t._v(t._s(a.title))])])}))],2),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{text:""}},[t._v("Start")])],1)],1)})),1)]),e("div",{staticClass:"shop"},[e("div",{staticClass:"text-h5 title"},[t._v("Shop")]),e("div",{staticClass:"item-cards"},t._l(t.shopItems,(function(a,i){return e("div",{key:i,staticClass:"item"},[e("img",{attrs:{src:a.icon}}),e("div",{staticClass:"name"},[e("strong",[t._v(t._s(a.name))])]),e("div",{staticClass:"value text--secondary text-caption"},[t._v(" Buy: "+t._s(-1!==a.buyValue?a.buyValue:"N/A")+" Sell: "+t._s(-1!==a.sellValue?a.sellValue:"N/A")+" ")]),e("div",{staticClass:"description text--secondary"},[t._v(t._s(a.description))]),e("div",{staticClass:"actions"},[e("v-btn",{attrs:{text:"",disabled:-1===a.sellValue||!t.campaign.inventory.hasItem(a.id)},on:{click:function(i){return t.sell(a.id)}}},[t._v("Sell")]),e("v-btn",{attrs:{text:"",disabled:-1===a.buyValue||t.campaign.balance<a.buyValue},on:{click:function(i){return t.buy(a.id)}}},[t._v("Buy")])],1)])})),0)])])],1):t._e(),e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.didNotFindCampaignDialog,callback:function(a){t.didNotFindCampaignDialog=a},expression:"didNotFindCampaignDialog"}},[e("v-card",[e("v-card-title",[t._v("Couldn't find your campaign")]),e("v-card-text",[t._v(" This could be due to an error or because you attempted to access this endpoint directly. ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{text:""},on:{click:function(a){return t.$router.push("/menu")}}},[t._v("Back to menu")])],1)],1)],1),e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.invalidCampaignDialog,callback:function(a){t.invalidCampaignDialog=a},expression:"invalidCampaignDialog"}},[e("v-card",[e("v-card-title",[t._v("Something went wrong")]),e("v-card-text",[t._v(" An error occurred while restoring the progress of your previous campaign. This could have been caused by a bug or by data corruption. ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{text:""},on:{click:function(a){return t.$router.push("/menu")}}},[t._v("Back to menu")])],1)],1)],1)],1)},s=[],n=i("dbea"),c=i("a181"),r={name:"Campaign",data:function(){return{campaign:void 0,didNotFindCampaignDialog:!1,invalidCampaignDialog:!1,quests:c["b"],getItem:n["b"]}},computed:{characterClassIconFill:function(){return this.$vuetify.theme.dark?"#ffffff":"#000000"},shopItems:function(){for(var t=[],a=0;a<n["c"].length;a++)n["c"][a].secret||-1===n["c"][a].buyValue&&-1===n["c"][a].sellValue||t.push(n["c"][a]);return t}},methods:{buy:function(t){-1===Object(n["b"])(t).buyValue||Object(n["b"])(t).buyValue>this.campaign.balance||(this.campaign.inventory.increment(t),this.campaign.balance-=Object(n["b"])(t).buyValue)},sell:function(t){this.campaign.inventory.hasItem(t)&&(this.campaign.inventory.decrement(t),this.campaign.balance+=Object(n["b"])(t).sellValue)},startQuest:function(t){this.campaign.currentQuestProgress={id:t,startTime:new Date},this.$router.push("/quest")}},created:function(){var t=this;this.$store.state.campaign?this.$store.state.campaign.validate?(this.campaign=this.$store.state.campaign,this.campaign.validate()?(""!==this.campaign.currentQuestProgress.id&&this.$router.push("/quest"),this.$nextTick((function(){document.title="".concat(t.campaign.characterName," | Campaign - The Legend of Silica")})),window.frikandelbroodje=function(a){t.campaign.inventory.add("0",a)}):this.invalidCampaignDialog=!0):this.invalidCampaignDialog=!0:this.didNotFindCampaignDialog=!0},watch:{campaign:{handler:function(){if(0===this.campaign.currentHealth)return this.$router.push("/game-over"),void this.$store.commit("setCampaign",void 0);this.$store.commit("setCampaign",this.campaign)},deep:!0}}},o=r,l=(i("635e"),i("2877")),u=i("6544"),d=i.n(u),m=i("8336"),v=i("b0af"),p=i("99d9"),g=i("169a"),h=i("ce7e"),f=i("da13"),b=i("5d23"),C=i("e449"),_=i("f774"),y=i("2fa4"),x=Object(l["a"])(o,e,s,!1,null,"83d56a8e",null);a["default"]=x.exports;d()(x,{VBtn:m["a"],VCard:v["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardText:p["c"],VCardTitle:p["d"],VDialog:g["a"],VDivider:h["a"],VListItem:f["a"],VListItemContent:b["a"],VMenu:C["a"],VNavigationDrawer:_["a"],VSpacer:y["a"]})},"635e":function(t,a,i){"use strict";i("ad79")},a9d9:function(t,a,i){t.exports=i.p+"img/berserker.1ec7c721.svg"},ad79:function(t,a,i){},c46e:function(t,a,i){t.exports=i.p+"img/shaman.626584fa.svg"},fbe8:function(t,a,i){t.exports=i.p+"img/heart.01284649.svg"},ffdb:function(t,a,i){t.exports=i.p+"img/primate.00132bf5.svg"}}]);